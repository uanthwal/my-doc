<!--
  Generated template for the ScanUploadPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>ScanUpload</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-item patient>
    <ion-label>Patient</ion-label>
    <ion-select [(ngModel)]="patient">
      <ion-option *ngFor="let patient of patientList" value="{{patient.id}}">{{patient.name}}</ion-option>
    </ion-select>
  </ion-item>
  <ion-item (click)="takePhoto()">
    <img src="{{iconPath}}camera.png" class="action-icon" /> Capture Image
  </ion-item>
  <ion-item (click)="onClickUploadDoc()">
    <img class="action-icon" src="{{iconPath}}attachments.png" /> Upload Document
  </ion-item>
  <div *ngIf="attachments?.length > 0">
    <p class="attach-block">
      <ion-icon item-end name="attach" class="attachIcon"></ion-icon> Attachments:</p>
    <ion-item *ngFor="let a of attachments; let i = index">
      <ion-badge item-start>{{i+1}}</ion-badge>
      {{a.name}}
      <ion-icon item-end name="eye" class="eyeIcon" (click)="viewAttachment(a)"></ion-icon>
      <ion-icon item-end name="trash" class="deleteIcon" (click)="deleteAttachment(i)"></ion-icon>
    </ion-item>
  </div>
  {{message}}
</ion-content>